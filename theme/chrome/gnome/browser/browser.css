/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

@import url("chrome://gnome/skin/browser/extensions/extensions.css");

@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");
@namespace html url("http://www.w3.org/1999/xhtml");

/* ::::: Toolbars ::::: */

#navigator-toolbox {
  border-bottom: 1px solid #a7aba7;
}

#TabsToolbar::after {
  border-bottom: 1px solid #a7aba7;
}

#nav-bar {
  background: linear-gradient(to bottom, #fff, #f3f3f3);
}

#nav-bar ~ toolbar {
  /* FIXME */
  background: #f3f3f3 !important;
}

/* ::::: Tabs ::::: */

.tab-throbber {
  list-style-image: url(chrome://gnome/skin/browser/tabbrowser/connecting.png);
}

.tab-throbber[progress] {
  list-style-image: url(chrome://gnome/skin/browser/tabbrowser/loading.png);
}

.tab-drop-indicator {
  list-style-image: url(chrome://gnome/skin/browser/tabbrowser/tabDragIndicator.png);
}

.tab-close-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/close.svg);
}
.tab-close-button > .toolbarbutton-icon {
  opacity: .4;
}
.tab-close-button:hover > .toolbarbutton-icon {
  opacity: 1;
}

.tab-background-start[selected=true]:-moz-locale-dir(ltr)::after,
.tab-background-end[selected=true]:-moz-locale-dir(rtl)::after {
  background-image: url(chrome://gnome/skin/browser/tabbrowser/tab-stroke-start.png);
}

.tab-background-end[selected=true]:-moz-locale-dir(ltr)::after,
.tab-background-start[selected=true]:-moz-locale-dir(rtl)::after {
  background-image: url(chrome://gnome/skin/browser/tabbrowser/tab-stroke-end.png);
}

.tab-background-middle[selected=true] {
  background-color: transparent;
  background-image: url(chrome://gnome/skin/browser/tabbrowser/tab-active-middle.png) !important;
}

.tabbrowser-tab:hover > .tab-stack > .tab-background:not([selected=true]),
.tabs-newtab-button:hover {
  background-image: url(chrome://gnome/skin/browser/tabbrowser/tab-background-start.png),
                    url(chrome://gnome/skin/browser/tabbrowser/tab-background-middle.png),
                    url(chrome://gnome/skin/browser/tabbrowser/tab-background-end.png);
}

#tabbrowser-tabs[movingtab] > .tabbrowser-tab[beforeselected]:not([last-visible-tab])::after,
.tabbrowser-tab:not([selected]):not([afterselected-visible]):not([afterhovered]):not([first-visible-tab]):not(:hover)::before,
#tabbrowser-tabs:not([overflow]) > .tabbrowser-tab[last-visible-tab]:not([selected]):not([beforehovered]):not(:hover)::after {
  background-image: url(chrome://gnome/skin/browser/tabbrowser/tab-separator.png);
}

/* */

.tab-background-start[selected=true]::before,
.tab-background-end[selected=true]::before {
  background: none !important;
}

.tab-background-start[selected=true]:-moz-lwtheme::before,
.tab-background-end[selected=true]:-moz-lwtheme::before {
  clip-path: none;
}

/* ::::: Icons ::::: */

#back-button,
#forward-button:-moz-locale-dir(rtl) {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/go-previous.svg);
  -moz-image-region: auto;
}

#forward-button,
#back-button:-moz-locale-dir(rtl) {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/go-next.svg);
  -moz-image-region: auto;
}

#home-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/user-home.svg);
  -moz-image-region: auto;
}

#bookmarks-menu-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/bookmark-new.svg);
  -moz-image-region: auto;
}
#bookmarks-menu-button[cui-areatype="toolbar"][starred] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/user-bookmarks.svg);
  -moz-image-region: auto;
}
#bookmarks-menu-button[cui-areatype="toolbar"] > .toolbarbutton-menubutton-dropmarker > .dropmarker-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/view-more.svg);
  -moz-image-region: auto;
}

#history-panelmenu[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/document-open-recent.svg);
  -moz-image-region: auto;
}

/* Downloads button */

#downloads-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/download.svg);
  -moz-image-region: auto;
}

#downloads-button[cui-areatype="toolbar"] > #downloads-indicator-anchor > #downloads-indicator-icon {
  background: -moz-image-rect(url(chrome://gnome/skin/browser/symbolic-icons/download.svg),
                              0, 16, 16, 0) center no-repeat;
}

#downloads-button[cui-areatype="toolbar"][attention] > #downloads-indicator-anchor > #downloads-indicator-icon {
  background-image: url(chrome://gnome/skin/browser/symbolic-icons/download-glow.svg);
}

#downloads-button:not([counter]) > #downloads-indicator-anchor > #downloads-indicator-progress-area > #downloads-indicator-counter {
  background: -moz-image-rect(url(chrome://gnome/skin/browser/symbolic-icons/download.svg),
                              0, 16, 16, 0) center no-repeat;
}

#downloads-button:not([counter])[attention] > #downloads-indicator-anchor > #downloads-indicator-progress-area > #downloads-indicator-counter {
  background-image: url(chrome://gnome/skin/browser/symbolic-icons/download-glow.svg);
}

#add-ons-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/addon.svg);
  -moz-image-region: auto;
}

#open-file-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/open.svg);
  -moz-image-region: auto;
}

#save-page-button[cui-areatype="toolbar"] {
/* FIXME */
}

#sync-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/emblem-synchronizing.svg);
  -moz-image-region: auto;
}

#feed-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/rss.svg);
  -moz-image-region: auto;
}

#social-share-button[cui-areatype="toolbar"] {
/* FIXME */
}

#characterencoding-button[cui-areatype="toolbar"]{
/* FIXME */
}

#new-window-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/new-window.svg);
  -moz-image-region: auto;
}

#new-tab-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tab-new.svg);
  -moz-image-region: auto;
}
.tabs-newtab-button,
#TabsToolbar > #new-tab-button ,
#TabsToolbar > #wrapper-new-tab-button > #new-tab-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/list-add.svg);
}

#privatebrowsing-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/privatebrowsing.svg);
  -moz-image-region: auto;
}

#find-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/edit-find.svg);
  -moz-image-region: auto;
}

#print-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/printer.svg);
  -moz-image-region: auto;
}

#fullscreen-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/view-fullscreen.svg);
  -moz-image-region: auto;
}

#developer-button[cui-areatype="toolbar"] {
/* FIXME */
}

#preferences-button[cui-areatype="toolbar"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/emblem-system.svg);
  -moz-image-region: auto;
}

#PanelUI-menu-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/list.svg);
  -moz-image-region: auto;
}

#edit-controls:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) > #cut-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/edit-cut.svg);
  -moz-image-region: auto;
}

#edit-controls:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) > #copy-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/edit-copy.svg);
  -moz-image-region: auto;
}

#edit-controls:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) > #paste-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/edit-paste.svg);
  -moz-image-region: auto;
}

#zoom-controls:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) > #zoom-out-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/zoom-out.svg);
  -moz-image-region: auto;
}

#zoom-controls:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) > #zoom-in-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/zoom-in.svg);
  -moz-image-region: auto;
}

#webrtc-status-button:not(:-moz-any(:not([cui-areatype="toolbar"]),.overflowedItem)) {
/* FIXME */
}

#nav-bar-overflow-button {
/* FIXME */
}

/* tabview button */

#tabview-button,
#menu_tabview {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tabview.svg);
  -moz-image-region: auto;
}

#tabview-button[groups="0"],
#menu_tabview[groups="0"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tabview-0.svg);
  -moz-image-region: auto;
}

#tabview-button[groups="1"],
#menu_tabview[groups="1"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tabview-1.svg);
  -moz-image-region: auto;
}

#tabview-button[groups="2"],
#menu_tabview[groups="2"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tabview-2.svg);
  -moz-image-region: auto;
}

#tabview-button[groups="3"],
#menu_tabview[groups="3"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/tabview-3.svg);
  -moz-image-region: auto;
}

/* All tabs */

#alltabs-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/go-down.svg);
}
#alltabs-button > .toolbarbutton-menu-dropmarker {
  display: none;
}
#alltabs-button > .toolbarbutton-icon {
  display: -moz-box;
}

/* ::::: Location bar, Search bar ::::: */

#urlbar, .searchbar-textbox {
  -moz-appearance: none;
  background: linear-gradient(to bottom, rgba(255,255,255,0.5), rgba(255,255,255,0.8));
  border: 1px solid rgba(50,50,50,.4);
  border-radius: 3px;
  box-shadow: inset 0px 1px 2px 0px rgba(0,0,0,0.15), 0px 1px 0 0 rgba(255,255,255,0.37);
  color: #2e3436;
  margin: 0px 3px;
  min-height: 28px;
  overflow: hidden;
  transition-property: border, box-shadow;
  transition-duration: 200ms;
}

#urlbar[focused="true"], .searchbar-textbox[focused="true"] {
  border-color: #729fcf;
  box-shadow: 0 1px 0 rgba(255,255,255,0.6), inset 0 1px 2px 0 rgba(0,106,221,0.3);
}

/* History dropmarker */

.urlbar-history-dropmarker {
  -moz-appearance: none;
  -moz-box-align: center !important;
  min-height: 26px;
  min-width: 26px;
  padding: 5px;
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/go-down.svg);
  opacity: .35;
}

.urlbar-history-dropmarker:hover,
.urlbar-history-dropmarker[open="true"] {
  opacity: 1;
}

/* Combined go/reload/stop button in location bar */

#urlbar > toolbarbutton {
  min-height: 26px;
  padding: 5px;
  min-width: 26px;
  cursor: inherit;
  list-style-image: none;
  -moz-image-region: auto !important;
}

#urlbar > toolbarbutton:not([disabled="true"]):hover {
  background: none !important;
}

#urlbar > toolbarbutton:not([disabled="true"]):active {
  background: linear-gradient(to bottom, #d1d1d1, #fff) !important;
  box-shadow: inset 0 1px 1px 0 rgba(0,0,0,0.15);
}

#urlbar-go-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/go-next.svg) !important;
}
#urlbar-go-button:-moz-locale-dir(rtl) > .toolbarbutton-icon {
  transform: scaleX(-1);
}

#urlbar-reload-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/view-refresh.svg) !important;
}

#urlbar-stop-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/process-stop.svg) !important;
}

#urlbar-go-button,
#urlbar-stop-button,
#urlbar-reload-button {
  opacity: .35;
}

#urlbar-go-button:hover,
#urlbar-reload-button:hover,
#urlbar-stop-button:hover {
  opacity: 1;
}

/* Search bar */

.searchbar-engine-image {
  margin: 0;
}

.searchbar-engine-button {
  height: 26px;
  min-width: 26px;
  padding: 5px;
}

.searchbar-engine-button:active, .searchbar-engine-button[open="true"] {
  background-image: linear-gradient(to bottom, #d1d1d1, #ffffff) !important;
  box-shadow: inset 0 1px 1px 0 rgba(0,0,0,0.15) !important;
}

.searchbar-engine-button > .button-box {
  padding: 0;
}

.searchbar-dropmarker-image {
  display: none;
}

.search-go-container {
  opacity: .35;
}

.search-go-container:hover {
  opacity: 1;
}

.search-go-container:active {
  background-image: linear-gradient(to bottom, #d1d1d1, #ffffff) !important;
  box-shadow: inset 0 1px 1px 0 rgba(0,0,0,0.15) !important;
}

.search-go-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/edit-find.svg);
  height: 26px;
  min-width: 26px;
  padding: 5px;
}

/* page proxy icon */

#page-proxy-favicon {
  margin: 2px;
  -moz-margin-start: 4px;
  -moz-margin-end: 3px;
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/identity-icons-generic.svg);
  opacity: 0.35;
}

.chromeUI > #page-proxy-favicon[pageproxystate="valid"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/identity-icons-brand.svg);
}

.verifiedDomain > #page-proxy-favicon[pageproxystate="valid"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/identity-icons-https.svg);
}

.verifiedIdentity > #page-proxy-favicon[pageproxystate="valid"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/identity-icons-https-ev.svg);
  opacity: 0.6;
}

.mixedActiveContent > #page-proxy-favicon[pageproxystate="valid"],
.mixedDisplayContent > #page-proxy-favicon[pageproxystate="valid"],
.mixedDisplayContentLoadedActiveBlocked > #page-proxy-favicon[pageproxystate="valid"] {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/identity-icons-https-mixed-active.svg);
  opacity: 0.6;
}

#page-proxy-favicon[pageproxystate="invalid"] {
  opacity: 0.3;
}

#identity-popup.chromeUI > #identity-popup-container > #identity-popup-icon {
  list-style-image: url("chrome://branding/content/icon64.png");
}

#identity-box:hover > #page-proxy-favicon,
#identity-box:hover:active > #page-proxy-favicon,
#identity-box[open=true] > #page-proxy-favicon {
  -moz-image-region: auto;
  opacity: 1;
}

/* Identity indicator */

#identity-box {
  margin: 0;
  min-width: 26px;
}

#identity-box:hover:active,
#identity-box[open="true"] {
  background: linear-gradient(to bottom, #d1d1d1, #fff);
  box-shadow: inset 0 1px 1px -1px rgba(0,0,0,0.15);
}

#urlbar[pageproxystate="valid"] > #identity-box.chromeUI {
  background: rgba(200, 200, 200, 0.15);
  border-right: 1px solid rgba(100, 100, 100, 0.25);
  -moz-margin-end: 4px;
}
#urlbar[pageproxystate="valid"] > #identity-box.chromeUI:hover:active,
#urlbar[pageproxystate="valid"] > #identity-box.chromeUI[open="true"] {
  background: linear-gradient(to bottom, #d1d1d1, #fff);
  box-shadow: inset 0 1px 1px -1px rgba(0,0,0,0.15);
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity {
  background: rgba(115, 210, 22, 0.15);
  border-right: 1px solid rgba(115, 210, 22, 0.25);
  color: #00aa00;
  -moz-margin-end: 4px;
}

#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity:hover:active,
#urlbar[pageproxystate="valid"] > #identity-box.verifiedIdentity[open="true"] {
  background: linear-gradient(to bottom, rgba(115, 210, 22, 0.25), rgba(115, 210, 22, 0.05));
}

/* Notification icons */

.notification-anchor-icon {
  opacity: 0.5;
}

.default-notification-icon,
#default-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/information.svg);
}

.identity-notification-icon,
#identity-notification-icon {
  /* FIXME: Missing icon */
}

.geo-notification-icon,
#geo-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/geolocation.svg);
}

#addons-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/addon.svg);
}

.indexedDB-notification-icon,
#indexedDB-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/question.svg);
}

#password-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/key.svg);
}

#webapps-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/plugin.svg);
}

#plugins-notification-icon {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/plugin.svg);
}
#plugins-notification-icon.plugin-hidden {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/plugin-alert.svg);
}
#plugins-notification-icon.plugin-blocked {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/plugin-blocked.svg);
}

#plugins-notification-icon,
#plugins-notification-icon:hover,
#plugins-notification-icon:active {
  -moz-image-region: auto;
}

#plugin-install-notification-icon {
  /* FIXME: Missing icon */
}

.mixed-content-blocked-notification-icon,
#mixed-content-blocked-notification-icon {
  /* FIXME: Missing icon */
}

.webRTC-shareDevices-notification-icon,
#webRTC-shareDevices-notification-icon {
  /* FIXME: Missing icon */
}

.webRTC-sharingDevices-notification-icon,
#webRTC-sharingDevices-notification-icon {
  /* FIXME: Missing icon */
}

.web-notifications-notification-icon,
#web-notifications-notification-icon {
  /* FIXME: Missing icon */
}

#pointerLock-notification-icon {
  /* FIXME: Missing icon */
}

/* ::::: Downloads indicator ::::: */

#downloadsHistory {
  color: gray !important;
}

#downloadsHistory:hover {
  color: #3a81cc !important;
}

/* ::::: Toolbarbuttons ::::: */

/* ::::: Sidebar ::::: */

#sidebar-splitter {
  -moz-appearance: none;
  border-right: 1px solid #a7aba7;
  min-width: 4px !important;
  width: 4px !important;
}

#sidebar-header {
  font-weight: bold;
  color: #2e3436;
  padding: 10px 3px;
  margin: 0;
}

#sidebar-header > .tabs-closebutton {
  -moz-appearance: none;
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/close.svg);
  border: 1px solid transparent;
  border-radius: 3px;
  padding: 2px !important;
}

#sidebar-header > .tabs-closebutton:hover {
  background-image: linear-gradient(to bottom, #ffffff, #ebebeb);
  border-color: rgba(50,50,50,.4);
  box-shadow: 0 1px 0 rgba(255,255,255,0.37);
}

#sidebar-header > .tabs-closebutton:active:hover {
  background-image: linear-gradient(to bottom, #c9c9c9, #e4e4e4);
  border-color: rgba(50,50,50,.4);
  box-shadow: 0 1px 0 rgba(255,255,255,0.37);
}

#sidebar-header > .tabs-closebutton > .toolbarbutton-icon {
  min-height: 16px;
  min-width: 16px;
}

/* ::::: Window controls ::::: */

#window-controls {
  overflow: hidden;
  margin: 0 3px;
}

#toolbar-menubar > #window-controls {
  margin: 0;
  -moz-margin-end: 6px;
}

#TabsToolbar > #window-controls {
  margin: 0px 6px 4px 6px;
}

#window-controls > toolbarbutton {
  height: 100%;
  min-width: 28px;
  margin: 0;
  position: relative;
}

#window-controls {
  border-left: 7px solid;
  -moz-border-left-colors: rgba(50,50,50,.2) rgba(255,255,255,0.2) transparent;
}
#window-controls:-moz-locale-dir(rtl) {
  border-right: 7px solid;
  -moz-border-right-colors: rgba(50,50,50,.2) rgba(255,255,255,0.2) transparent;
}

#minimize-button {
  display: none;
}
#restore-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/window-restore.svg);
}
#close-button {
  list-style-image: url(chrome://gnome/skin/browser/symbolic-icons/close.svg);
  display: none;
}

:-moz-any(#minimize-button, #restore-button, #close-button) > .toolbarbutton-icon {
  height: 14px;
  width: 14px;
}

/* FIXME
:-moz-any(#minimize-button, #restore-button, #close-button):active:hover > .toolbarbutton-icon {
  filter: url(chrome://browser/skin/symbolic-icons-colors.svg#white);
}
*/
